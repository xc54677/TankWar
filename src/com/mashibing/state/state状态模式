根据状态决定行为